(this["webpackJsonpcurso-intro-react"]=this["webpackJsonpcurso-intro-react"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,o){},,function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){"use strict";o.r(t);var n=o(8),c=o(1),r=o.n(c),a=o(4),s=o.n(a),l=(o(13),o(0));function d(e){var t=e.totalTodos,o=e.completedTodos,n=e.loading;return Object(l.jsxs)("h2",{className:"TodoCounter ".concat(!!n&&"TodoCounter--loading"),children:["Has completado ",o," de ",t," TODOs"]})}var i=o(6),u=o(2);function j(e){var t=function(e,t){var o=r.a.useState(!0),n=Object(u.a)(o,2),a=n[0],s=n[1],l=Object(c.useState)(!1),d=Object(u.a)(l,2),i=d[0],j=d[1],b=Object(c.useState)(!0),O=Object(u.a)(b,2),h=O[0],m=O[1],p=Object(c.useState)(t),f=Object(u.a)(p,2),x=f[0],T=f[1];return Object(c.useEffect)((function(){setTimeout((function(){try{var o,n=localStorage.getItem(e);n?o=JSON.parse(n):(localStorage.setItem(e,JSON.stringify(t)),o=t),T(o),m(!1),s(!0)}catch(c){j(i)}}),1e3)}),[a]),{item:x,saveItem:function(t){try{var o=JSON.stringify(t);localStorage.setItem(e,o),T(t)}catch(i){j(i)}},loading:h,error:i,sincronizeItem:function(){m(!0),s(!1)}}}("TODOS_V1",[]),o=t.item,n=t.saveItem,a=t.sincronizeItem,s=t.loading,l=t.error,d=Object(c.useState)(""),j=Object(u.a)(d,2),b=j[0],O=j[1],h=Object(c.useState)(!1),m=Object(u.a)(h,2),p=m[0],f=m[1],x=o.filter((function(e){return!!e.completed})).length,T=o.length,g=[];g=!b.length>=1?o:o.filter((function(e){var t=e.text.toLowerCase(),o=b.toLowerCase();return t.includes(o)}));return{error:l,loading:s,totalTodos:T,completedTodos:x,searchValue:b,setSearchValue:O,searchedTodos:g,completeTodo:function(e){var t=o.findIndex((function(t){return t.text===e})),c=Object(i.a)(o);c[t].completed=!0,n(c)},deleteTodo:function(e){var t=o.findIndex((function(t){return t.text===e})),c=Object(i.a)(o);c.splice(t,1),n(c)},openModal:p,setOpenModal:f,addTodo:function(e){var t=Object(i.a)(o);t.push({completed:!1,text:e}),n(t)},sincronizedTodos:a}}o(15);function b(e){var t=e.searchValue,o=e.setSearchValue,n=e.loading;return Object(l.jsx)("input",{className:"TodoSearch",placeholder:"Cebolla",value:t,onChange:function(e){console.log(e.target.value),o(e.target.value)},disabled:n})}o(16);function O(e){var t=e.children||e.render;return Object(l.jsxs)("section",{className:"TodoList-container",children:[e.error&&e.onError(),e.loading&&e.onLoading(),!e.loading&&!e.totalTodos&&e.onEmpty(),!!e.totalTodos&&!e.searchedTodos.length&&e.onEmptySearchResults(e.searchText),e.searchedTodos.map(t)]})}o(17);function h(e){return Object(l.jsxs)("li",{className:"TodoItem",children:[Object(l.jsx)("span",{className:"Icon Icon-check ".concat(e.completed&&"Icon-check--active"),onClick:e.onComplete,children:"\u221a"}),Object(l.jsx)("p",{className:"TodoItem-p ".concat(e.completed&&"TodoItem-p--complete"),children:e.text}),Object(l.jsx)("span",{className:"Icon Icon-delete",onClick:e.onDelete,children:"X"})]})}o(18);function m(e){return Object(l.jsx)("button",{className:"CreateTodoButton",onClick:function(){e.setOpenModal(!e.openModal)},children:"+"})}o(19);function p(e){var t=e.children;return s.a.createPortal(Object(l.jsx)("div",{className:"ModalBackground",children:t}),document.getElementById("modal"))}o(20);function f(e){var t=e.addTodo,o=e.setOpenModal,n=Object(c.useState)(""),r=Object(u.a)(n,2),a=r[0],s=r[1];return Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(a),o(!1)},children:[Object(l.jsx)("label",{children:"Escribe t\xfa nuevo TODO"}),Object(l.jsx)("textarea",{placeholder:"Terminar el curso de React",value:a,onChange:function(e){s(e.target.value)}}),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{type:"button",onClick:function(){console.log("cancel"),o(!1)},className:"TodoForm-button TodoForm-button--cancel",children:"Cancelar"}),Object(l.jsx)("button",{type:"submit",className:"TodoForm-button TodoForm-button--add",children:"A\xf1adir"})]})]})}function x(e){var t=e.children,o=e.loading;return Object(l.jsx)("header",{children:r.a.Children.toArray(t).map((function(e){return r.a.cloneElement(e,{loading:o})}))})}function T(){return Object(l.jsx)("p",{children:"Desesp\xe9rate, hubo un error..."})}function g(){return Object(l.jsx)("p",{children:"Estamos Cargando, no desesperes per\xe9z..."})}function v(){return Object(l.jsx)("p",{children:"!Crea t\xfa primer todo"})}var S,C=(S=function(e){var t=e.show,o=e.toggleShow;return t?Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{children:"Hubo Cambios"}),Object(l.jsx)("button",{onClick:o,children:"VOlver a cargar"})]}):null},function(e){var t=r.a.useState(!1),o=Object(u.a)(t,2),n=o[0],c=o[1];return window.addEventListener("storage",(function(e){"TODOS_V1"===e.key&&(console.log("hubo cambios en TODO_V1"),c(!0))})),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(S,{show:n,toggleShow:function(){e.sincronize(),c(!1)}})})});var I=function(){var e=j(),t=e.error,o=e.loading,n=e.searchedTodos,c=e.completeTodo,a=e.deleteTodo,s=e.openModal,i=e.setOpenModal,u=e.totalTodos,S=e.completedTodos,I=e.searchValue,y=e.setSearchValue,N=e.addTodo,E=e.sincronizedTodos;return Object(l.jsxs)(r.a.Fragment,{children:[Object(l.jsxs)(x,{loading:o,children:[Object(l.jsx)(d,{totalTodos:u,completedTodos:S}),Object(l.jsx)(b,{searchValue:I,setSearchValue:y})]}),Object(l.jsx)(O,{error:t,loading:o,searchedTodos:n,searchText:I,totalTodos:u,onError:function(){return Object(l.jsx)(T,{})},onLoading:function(){return Object(l.jsx)(g,{})},onEmpty:function(){return Object(l.jsx)(v,{})},onEmptySearchResults:function(e){return Object(l.jsxs)("p",{children:["No hay resultados para : ",e," "]})},render:function(e){return Object(l.jsx)(h,{text:e.text,completed:e.completed,onComplete:function(){return c(e.text)},onDelete:function(){return a(e.text)}},e.text)}}),!!s&&Object(l.jsx)(p,{children:Object(l.jsx)(f,{addTodo:N,setOpenModal:i})}),Object(l.jsx)(m,{setOpenModal:i,openModal:s}),Object(l.jsx)(C,{sincronized:E})]})};o(21);s.a.render(Object(l.jsx)(I,{}),document.getElementById("root"));var y;(y="Wenitas",function(e){return function(t){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(e,Object(n.a)(Object(n.a)({},t),{},{saludo:y})),Object(l.jsx)("p",{children:"Estamos acompa\xf1ando al wrappedComponent"})]})}})((function(e){return Object(l.jsxs)("h1",{children:[e.saludo,", ",e.nombre," "]})}))}],[[22,1,2]]]);
//# sourceMappingURL=main.a9ba1c47.chunk.js.map